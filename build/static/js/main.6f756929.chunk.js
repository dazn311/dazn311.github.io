(this["webpackJsonpmonds-react"]=this["webpackJsonpmonds-react"]||[]).push([[0],{37:function(e,t,a){e.exports=a(54)},42:function(e,t,a){},43:function(e,t,a){},52:function(e,t,a){},54:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(16),o=a.n(c),i=(a(42),a(17)),l=a(3),u=(a(43),a(57)),s=a(58),f=function(){return r.a.createElement(u.a,{bg:"light",expand:"lg"},r.a.createElement(u.a.Brand,null,"ReactApp"),r.a.createElement(u.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(u.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(s.a,{className:"mr-auto"},r.a.createElement(i.b,{className:"nav-link",to:"/"},"Home"),r.a.createElement(i.b,{className:"nav-link",to:"/fav"},"Favorite"))))},v=a(11),m=r.a.createContext(),E=a(7),d=a.n(E),O=a(9);function b(e){var t=e.item,a=e.value,c=e.icon_url,o=Object(n.useState)(!1),i=Object(v.a)(o,2),l=i[0],u=i[1],s=Object(n.useContext)(m),f=s.addFavorite,E=s.removeFavorite;Object(n.useEffect)((function(){u(t.isFavorite)}),[]);var d=l?"gold":"gray";return r.a.createElement("li",{className:["animate__animated","animate__backInLeft"].join(" "),style:p.li},r.a.createElement("img",{src:c,alt:""}),r.a.createElement("strong",null,a),r.a.createElement("button",{onClick:function(){return t.id,l?E(t.id):f(Object(O.a)(Object(O.a)({},t),{},{isFavorite:!0})),void u(!l)},style:p.span2},r.a.createElement("i",{style:{color:d},className:"fas fa-star"})))}b.protoTypes={item:d.a.object.isRequired,value:d.a.string,icon_url:d.a.string};var p={li:{padding:"5px 10px",border:"1px solid #ccc",borderRadius:"4px",marginBottom:"5px",display:"flex",justifyContent:"space-between"},span:{marginRight:"3px"},span2:{marginLeft:"3px"}};function g(e){var t=e.items,a=e.loader,n=r.a.createElement("ul",{style:j.ul},t.map((function(e,t){return r.a.createElement(b,{index:t,item:e,value:e.value||"not data",icon_url:e.icon_url,key:e.id+t})})));return console.log("ItemsList 77"),t.length?n:a}g.propTypes={items:d.a.arrayOf(d.a.object).isRequired};var j={ul:{listStyle:"none",margin:0,padding:0}},h=g,_=a(56);a(52);var L=function(e){var t=e.eventButton,a=e.captionButton;return r.a.createElement(_.a,{onClick:t},a)},F=a(28),R=a.n(F),T=a(34),A=a(35),x=function e(){var t=this;Object(A.a)(this,e),this.transformDataR=function(e){return{id:e.id,value:e.value,icon_url:e.icon_url,isFavorite:!1}},this.getResource=function(){var e=Object(T.a)(R.a.mark((function e(a){var n;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t._apiBase).concat(a));case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("could not fetch"+a+", received: ".concat(n.status));case 5:return e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getProductAll=function(){return t.getResource("/random")},this.getProductById=function(e){return t.getResource("/".concat(e))},this._apiBase="https://api.chucknorris.io/jokes"},y=[],I=-1;function k(){var e=Object(n.useState)(!1),t=Object(v.a)(e,2),a=t[0],c=t[1],o=r.a.useState(y),i=Object(v.a)(o,2),l=i[0],u=i[1],s=Object(n.useState)(!1),f=Object(v.a)(s,2),E=f[0],d=f[1],O=Object(n.useContext)(m),b=O.state,p=O.setFavoriteToLocal,g=new x,j=function(){c({isLoading:!0}),g.getProductAll().then((function(e){var t=g.transformDataR(e);c({isLoading:!1}),u([t])}))};Object(n.useEffect)((function(){j(),console.log("useEFf")}),[]),Object(n.useEffect)((function(){p()}),[b.favList]);var _=function(){clearInterval(I)};Object(n.useEffect)((function(){return E?I=setInterval((function(){j()}),3e3):_(),function(){_()}}),[E]);var F=E?"stop loop":"loop",R=r.a.createElement("div",{className:"buttonGroup"},r.a.createElement(L,{eventButton:j,captionButton:"next"}),r.a.createElement(L,{eventButton:function(){d(!E)},captionButton:F})),T=r.a.createElement("div",{className:"loader"},"Loading...");return r.a.createElement("div",null,r.a.createElement("h1",null,"Home Page"),r.a.createElement(h,{items:l,loader:T,loading:a}),R)}function B(){var e=Object(n.useContext)(m),t=e.removeFavoriteAll,a=e.getFavorite,c=Object(n.useState)([]),o=Object(v.a)(c,2),i=o[0],l=o[1],u=Object(n.useState)(!1),s=Object(v.a)(u,2),f=s[0],E=s[1];Object(n.useEffect)((function(){var e=a();l(e)}),[]),Object(n.useEffect)((function(){console.log("fav loading",f),E(!0)}),[i]);var d=r.a.createElement("div",{className:"buttonGroup"},r.a.createElement(L,{eventButton:t,captionButton:"Remove Favorite All"})),O=r.a.createElement("div",{className:"no-fav alert-danger"},"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0445 \u043d\u0435\u0442 \u0437\u0430\u043f\u0438\u0441\u0435\u0439");return r.a.createElement("div",null,r.a.createElement("h1",null,"Fav Page"),r.a.createElement(h,{items:i,loader:O,loading:f}),d)}var w,V=a(15),S=a(23),N=(w={},Object(V.a)(w,"ADD_TO_FAVORITE",(function(e,t){var a=t.item;return Object(O.a)(Object(O.a)({},e),{},{favList:[].concat(Object(S.a)(e.favList),[a])})})),Object(V.a)(w,"REMOVE_TO_FAVORITE",(function(e,t){var a=t.id;return Object(O.a)(Object(O.a)({},e),{},{favList:Object(S.a)(e.favList.filter((function(e){return e.id!==a})))})})),Object(V.a)(w,"REMOVE_LAST_TO_FAVORITE",(function(e){return Object(O.a)(Object(O.a)({},e),{},{favList:Object(S.a)(e.favList.slice(0,-1))})})),Object(V.a)(w,"REMOVE_ALL_TO_FAVORITE",(function(e){return Object(O.a)(Object(O.a)({},e),{},{favList:[]})})),Object(V.a)(w,"DEFAULT",(function(e){return e})),w),C=function(e,t){return(N[t.type]||N.DEFAULT)(e,t)},D={favList:JSON.parse(localStorage.getItem("favoritesElements"))||[]},M=function(e){var t=e.children,a=Object(n.useReducer)(C,D),c=Object(v.a)(a,2),o=c[0],i=c[1],l=function(){return i({type:"REMOVE_LAST_TO_FAVORITE"})};return r.a.createElement(m.Provider,{value:{state:o,addFavorite:function(e){!function(e){o.favList.length>9&&l(),i({type:"ADD_TO_FAVORITE",item:e})}(e)},removeFavorite:function(e){return i({type:"REMOVE_TO_FAVORITE",id:e})},removeFavoriteAll:function(e){return i({type:"REMOVE_ALL_TO_FAVORITE"})},getFavorite:function(){return o.favList},setFavoriteToLocal:function(){localStorage.setItem("favoritesElements",JSON.stringify(o.favList))}}},t)};var P=function(){return r.a.createElement(M,null,r.a.createElement(i.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(f,null),r.a.createElement(l.c,null,r.a.createElement(l.a,{exact:!0,path:"/",component:k}),r.a.createElement(l.a,{exact:!0,path:"/fav",component:B})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(P,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[37,1,2]]]);
//# sourceMappingURL=main.6f756929.chunk.js.map