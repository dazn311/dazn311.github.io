(this["webpackJsonpmonds-react"]=this["webpackJsonpmonds-react"]||[]).push([[0],{13:function(e,t,n){},17:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(6),c=n.n(o),i=(n(13),n(7)),u=n(1),s=n.n(u),l=n(3),f=n(4),d=n(2),m=n.n(d),p=(n(17),{getResource:function(){var e=Object(l.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.chucknorris.io/jokes/random");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getAnegdotRandom:function(){var e=Object(l.a)(s.a.mark((function e(){var t,n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(e){return{id:e.id,value:e.value,icon_url:e.icon_url,isFavorite:!1}},e.prev=1,e.next=4,fetch("https://api.chucknorris.io/jokes/random");case 4:if(n=e.sent,console.log(" --res",n),200!==n.status){e.next=13;break}return e.next=9,n.json();case 9:return a=e.sent,e.abrupt("return",t(a));case 13:return e.abrupt("return",{id:"data.id",value:"not data from fetch",icon_url:"",isFavorite:!1});case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),console.log(e.t0.name+": "+e.t0.message+" --daz");case 19:return e.abrupt("return",{id:"data.id",value:"not data from fetch",icon_url:"",isFavorite:!1});case 20:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(){return e.apply(this,arguments)}}(),transformDataR:function(e){return console.log("transformDataR data ",e),{id:e.id,value:e.value,icon_url:e.icon_url,isFavorite:!1}}});function v(e){var t=e.news,n=e.value,a=e.icon_url,o=e.onChange,c=t.isFavorite?"gold":"gray";return r.a.createElement("li",{className:["animate__animated","animate__backInLeft"].join(" "),style:h.li},r.a.createElement("img",{src:a,alt:a}),r.a.createElement("strong",null,n),r.a.createElement("button",{onClick:function(){return o(t.id)},style:h.span2},r.a.createElement("i",{style:{color:c},className:"fas fa-star"})))}v.protoTypes={news:m.a.object.isRequired,value:m.a.string,icon_url:m.a.string,onChange:m.a.func.isRequired};var g=v,h={li:{padding:"5px 10px",border:"1px solid #ccc",borderRadius:"4px",marginBottom:"5px",display:"flex",justifyContent:"space-between"},span:{marginRight:"3px"},span2:{marginLeft:"3px"}},b={ul:{listStyle:"none",margin:0,padding:0}};var E=function(e){return r.a.createElement("ul",{style:b.ul},e.newsElement.map((function(t,n){return r.a.createElement(g,{index:n,news:t,value:t.value,icon_url:t.icon_url,key:t.id+n,onChange:e.onToggle,del:e.delete})})))},j=[],x=-1;var w=function(){var e=Object(a.useRef)(!1),t=r.a.useState(j),n=Object(f.a)(t,2),o=n[0],c=n[1],u=Object(a.useState)(j),d=Object(f.a)(u,2),v=d[0],g=d[1],h=Object(a.useState)(!1),b=Object(f.a)(h,2),w=b[0],y=b[1],k=Object(a.useState)(!1),O=Object(f.a)(k,2),_=O[0],R=O[1],N=Object(a.useState)(!1),S=Object(f.a)(N,2),C=S[0],F=S[1],A=function(){var e=Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F(!0),e.next=3,p.getAnegdotRandom();case 3:t=e.sent,F(!1),c([t]);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.getAnegdotRandom();case 2:t=e.sent,console.log("playLoop -res.value",t.value),c([t]);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){clearInterval(x)},L=function(e){localStorage.setItem("favoritesElements",JSON.stringify(e))};Object(a.useEffect)((function(){A();var t=localStorage.getItem("favoritesElements");return t&&g(JSON.parse(t)),function(){e.current=!0}}),[]);var T=function(e){!function(){var e=o[0];e.isFavorite=!e.isFavorite,c([e])}(),v.findIndex((function(t){return t.id===e}))<0?function(e){if(!v.find((function(t){return t.id===e}))){var t={id:o[0].id,value:o[0].value,icon_url:o[0].icon_url,isFavorite:!0};if(v.length<=9){var n=[].concat(Object(i.a)(v),[t]);g(n),L(n)}else{var a=v.concat();a.shift(),a.push(t),L(a),g(a)}}}(e):function(e){var t=v.filter((function(t){return t.id!==e}));g(t),L(t)}(e)};T.propTypes={id:m.a.number};var B=w?v:o,q=_?"gold":"gray",D=r.a.createElement("div",{className:"buttonGroup"},r.a.createElement("button",{onClick:function(){g([]),L([])}},"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0418\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0435"),r.a.createElement("button",{onClick:function(){J(),y((function(e){return!e}))}},"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0435 (",v.length||"0",")"),r.a.createElement("button",{onClick:function(){J(),y(!1),A()}},r.a.createElement("i",{className:"fas fa-angle-double-right"})),r.a.createElement("button",{onClick:function(){y(!1),_?(R(!1),J()):(R(!0),x=setInterval((function(){I()}),3e3))}},r.a.createElement("i",{style:{color:q},className:"fas fa-play-circle"})));return C?r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"Anegdots interactive"),D,r.a.createElement("div",{className:"loader"},"Loading...")):r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"Anegdots interactive"),D,B.length?r.a.createElement(E,{newsElement:B,onToggle:T,delete:function(e){c(o.filter((function(t,n){return t.id>n&&(t.id=n),t.title!==e})).map((function(e,t){return e.id>t&&(e.id=t),e})))}}):r.a.createElement("p",null,"\u041d\u0435\u0442 \u0448\u0443\u0442\u043e\u043a"))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},8:function(e,t,n){e.exports=n(18)}},[[8,1,2]]]);
//# sourceMappingURL=main.b908eb46.chunk.js.map